# Base docker-compose for itwewina.
#
# The settings here are intended for DEVELOPMENT only!
#
# To use in production, use the following:
#
#     docker-compose -f docker-compose.yml -f production.yml
#
# See: https://docs.docker.com/compose/extends/#multiple-compose-files

version: "3"

services:
  itwewina:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    volumes:
      # Use the test database (no need to set USE_TEST_DB=True!)
      - "../CreeDictionary/test_db.sqlite3:/app/CreeDictionary/db.sqlite3"
      - "./.env:/app/.env"
    ports:
      # Expose port 8000, just like `manage.py runserver` so that Cypress
      # integration tests can be run transparently on the Docker version!
      - 8000:8000
