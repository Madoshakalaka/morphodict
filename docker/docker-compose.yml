# WARNING: This file is autogenerated. by make-yaml. Changes here
# will be overwritten. Edit the corresponding .template file
# instead.

version: "3"

services:
    itwewina:
        restart: always
        # Specify hostname to make it clearer which container is active when
        # using docker to get a shell in the container.
        hostname: itwewina-container
        image: ghcr.io/ualbertaaltlab/itwewina.altlab.app:latest
        command: /app/app.sh crkeng
        ports:
          - "8011:8000" # http
          - "9011:9191" # uWSGI stats
        volumes:
          - "./.env:/app/.env"

          # LFS mounts
          - "../src/morphodict/lexicon/resources/vector_models/:/app/src/morphodict/lexicon/resources/vector_models/:ro"
          - "../src/crkeng/res/fst:/app/src/crkeng/res/fst:ro"
          - "../src/CreeDictionary/res/fst/:/app/src/CreeDictionary/res/fst/:ro"

          - "/data_local/application-data/itwewina/vector_models:/app/src/crkeng/resources/vector_models/"
          - "/data_local/application-data/itwewina/db:/app/src/crkeng/db/"
          - "/data_local/application-data/itwewina/search_quality:/app/src/crkeng/CreeDictionary/search_quality/"

    itwiwina:
        restart: always
        # Specify hostname to make it clearer which container is active when
        # using docker to get a shell in the container.
        hostname: itwiwina-container
        image: ghcr.io/ualbertaaltlab/itwewina.altlab.app:latest
        command: /app/app.sh cwdeng
        ports:
          - "8012:8000" # http
          - "9012:9191" # uWSGI stats
        volumes:
          - "./.env:/app/.env"

          # LFS mounts
          - "../src/morphodict/lexicon/resources/vector_models/:/app/src/morphodict/lexicon/resources/vector_models/:ro"
          - "../src/cwdeng/res/fst:/app/src/cwdeng/res/fst:ro"
          - "../src/CreeDictionary/res/fst/:/app/src/CreeDictionary/res/fst/:ro"

          - "/data_local/application-data/itwiwina/vector_models:/app/src/cwdeng/resources/vector_models/"
          - "/data_local/application-data/itwiwina/db:/app/src/cwdeng/db/"
          - "/data_local/application-data/itwiwina/search_quality:/app/src/cwdeng/CreeDictionary/search_quality/"

    gunaha:
        restart: always
        # Specify hostname to make it clearer which container is active when
        # using docker to get a shell in the container.
        hostname: gunaha-container
        image: ghcr.io/ualbertaaltlab/itwewina.altlab.app:latest
        command: /app/app.sh srseng
        ports:
          - "8013:8000" # http
          - "9013:9191" # uWSGI stats
        volumes:
          - "./.env:/app/.env"

          # LFS mounts
          - "../src/morphodict/lexicon/resources/vector_models/:/app/src/morphodict/lexicon/resources/vector_models/:ro"
          - "../src/srseng/res/fst:/app/src/srseng/res/fst:ro"
          - "../src/CreeDictionary/res/fst/:/app/src/CreeDictionary/res/fst/:ro"

          - "/data_local/application-data/gunaha/vector_models:/app/src/srseng/resources/vector_models/"
          - "/data_local/application-data/gunaha/db:/app/src/srseng/db/"
          - "/data_local/application-data/gunaha/search_quality:/app/src/srseng/CreeDictionary/search_quality/"

    arpeng:
        restart: always
        # Specify hostname to make it clearer which container is active when
        # using docker to get a shell in the container.
        hostname: arpeng-container
        image: ghcr.io/ualbertaaltlab/itwewina.altlab.app:latest
        command: /app/app.sh arpeng
        ports:
          - "8014:8000" # http
          - "9014:9191" # uWSGI stats
        volumes:
          - "./.env:/app/.env"

          # LFS mounts
          - "../src/morphodict/lexicon/resources/vector_models/:/app/src/morphodict/lexicon/resources/vector_models/:ro"
          - "../src/arpeng/res/fst:/app/src/arpeng/res/fst:ro"
          - "../src/CreeDictionary/res/fst/:/app/src/CreeDictionary/res/fst/:ro"

          - "/data_local/application-data/arpeng/vector_models:/app/src/arpeng/resources/vector_models/"
          - "/data_local/application-data/arpeng/db:/app/src/arpeng/db/"
          - "/data_local/application-data/arpeng/search_quality:/app/src/arpeng/CreeDictionary/search_quality/"

